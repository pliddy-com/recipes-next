# Fragment with slug for Recipe

fragment RecipeSlug on Recipe {
  __typename
  slug
}

# Fragments with default fields for Recipe-specific sections:
#   * Ingredients
#   * Instructions
#   * Image
#   * RecipeDefault (full)
#   * RecipeSummary (card)

fragment IngredientsDefault on IngredientSection {
  __typename
  title
  slug
  label
  ingredientList
}

fragment InstructionsDefault on InstructionSection {
  __typename
  title
  slug
  label
  instructionList
}

fragment ImageDefault on Asset {
  __typename
  title
  description
  contentType
  fileName
  size
  url
  height
  width
}

fragment DescriptionDefault on Recipe {
  description {
    json
    links {
      assets {
        block {
          sys {
            id
          }
          __typename
          title
          url
        }
        hyperlink {
          sys {
            id
          }
          __typename
          title
          url
        }
      }
      entries {
        inline {
          __typename
          sys {
            id
          }
          ... on Recipe {
            slug
            title
          }
        }
        hyperlink {
          __typename
          sys {
            id
          }
        }
      }
    }
  }
}

fragment RecipeDefault on Recipe {
  __typename
  title
  slug
  sys {
    firstPublishedAt
  }
  ...DescriptionDefault
  abstract
  image {
    ...ImageDefault
  }
  recipeYield
  prepTime
  cookTime
  ingredientsCollection(limit: 6) {
    items {
      ...IngredientsDefault
    }
  }
  equipment
  instructionsCollection(limit: 6) {
    items {
      ...InstructionsDefault
    }
  }
  notes
  tagsCollection(limit: 10) {
    items {
      ...TagDefault
    }
  }
  keywords
}

fragment RecipeSummary on Recipe {
  __typename
  sys {
    firstPublishedAt
  }
  title
  slug
  abstract
  image {
    ...ImageDefault
  }
  tagsCollection(limit: 6) {
    items {
      ...TagDefault
    }
  }
}
