# query for Taxonomy with Category & Subcategory levels
# getNavTaxonomy

query navTaxonomy($where: TaxonomyFilter) {
  taxonomyCollection(where: $where, order: title_ASC, limit: 1) {
    __typename
    items {
      ...TaxonomyDefault

      tag {
        ...TagDefault
      }

      childrenCollection(limit: 24) {
        total
        items {
          ... on Tag {
            ...TagDefault

            linkedFrom {
              recipeCollection(limit: 1) {
                total
              }
            }
          }
          ...TaxonomyWithChildren
        }
      }
    }
  }
}

# Query for recipe slugs
# getRecipeSlugs

query recipeSlugs($where: RecipeFilter) {
  recipeCollection(where: $where, order: title_ASC) {
    __typename
    items {
      slug
    }
  }
}

# query for category slugs
# getTagSlugs

query tagSlugs($where: TagFilter) {
  tagCollection(where: $where, order: title_ASC) {
    __typename
    items {
      slug
      linkedFrom {
        recipeCollection {
          total
        }
      }
    }
  }
}

# Query for List Page RecipeCollection (all recipes matching tag)
# getRecipeList

query recipeList($where: TagFilter) {
  __typename
  tagCollection(where: $where, order: title_ASC, limit: 1) {
    total
    items {
      ...ListPageItem
    }
  }
}

# Query for Recipe Collection for home (index) page
# getRecipeIndex

query recipeIndex($where: RecipeFilter) {
  __typename
  recipeCollection(where: $where, order: title_ASC) {
    total
    items {
      ...RecipeSummary
    }
  }
}

# Query for Recipe page
# getRecipePage

query recipePage($where: RecipeFilter) {
  recipeCollection(where: $where, order: title_ASC, limit: 1) {
    __typename
    items {
      ...RecipeDefault
    }
  }

  categoriesTaxonomy: taxonomyCollection(
    where: { slug: "categories" }
    order: title_ASC
    limit: 1
  ) {
    __typename
    items {
      childrenCollection(limit: 24) {
        total
        items {
          ... on Tag {
            __typename
            title
            slug
          }
          ... on Taxonomy {
            ...TaxonomyDefault
          }
        }
      }
    }
  }

  cuisineTaxonomy: taxonomyCollection(
    where: { slug: "cuisine" }
    order: title_ASC
    limit: 1
  ) {
    items {
      childrenCollection(limit: 24) {
        total
        items {
          ... on Tag {
            __typename
            title
            slug
          }
          ... on Taxonomy {
            __typename
            title
            slug
          }
        }
      }
    }
  }
}

#Query for Tag Index page
# getTagIndex

query tagIndex($where: TagFilter) {
  tagCollection(where: $where, order: title_ASC) {
    __typename
    total
    items {
      ...ListPageItem
    }
  }
}
