Latest commit

TODO: AWS SDK for JavaScript (v3)

ES lint (all levels)

testing libraries?
material UI & emotion?

Done:

* updated contentful pkgs
* updated urql
* updated Next to 14
* updated eslint-config-next
* updated next-sitemap
* updated next output config
* updated @types/node for cdk


Updated Packages:

all @types/node to ^18.19.123
all @types/jest to ^29.5.0
all dotenv to ^16.0.3
Added caret to all package.json version numbers
updated dotenv and dotenv-cli 
updated typescript support pkgs
 * ts-jest
 * ts-node
 * @tsconfig/recommended
 * @types/node
updated aws pkgs
 * @aws-sdk/client-cognito-identity-provider
 * @aws-solutions-constructs/aws-apigateway-lambda
 * @aws-solutions-constructs/aws-cognito-apigateway-lambda
 * constructs for GHA
config dotenv to quiet
updated additional aws pkgs
 * amazon-cognito-identity-js
 * aws-cdk-lib
 * @types/aws-lambda
updated type pkgs
 * @types/css-mediaquery
 * @types/body-scroll-lock
 * @types/react-infinite-scroller
updated algolia pkgs 
 * algoliasearch
 * react-instantsearch
updated husky to v9


Dev env packages:
 * emotion
 * lint-staged
 * typescript


Trouble Packages
 * mui to latest v5 pkg
 * jestv29 & testing-library 
 * eslintv8 + configs & prettierv2

npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
npm warn deprecated abab@2.0.6: Use your platform's native atob() and btoa() methods instead
npm warn deprecated are-we-there-yet@4.0.2: This package is no longer supported.
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
npm warn deprecated domexception@4.0.0: Use your platform's native DOMException instead
npm warn deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.
npm warn deprecated mkdirp@0.3.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm warn deprecated gauge@5.0.2: This package is no longer supported.
npm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead
npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
npm warn deprecated @mui/base@5.0.0-alpha.114: This package has been replaced by @base-ui-components/react


npm install urql@latest --workspace=client

npm i next@next-14 --workspace=client && npm i eslint-config-next@next-14 --workspace=client -D


AWS

[Warning at /RecipesBranchStackProd] Be aware that the NodeJS runtime of Node 16 will be deprecated by Lambda on June 12, 2024. 
Lambda runtimes Node 18 and higher include SDKv3 and not SDKv2. Updating your Lambda runtime will require bundling the SDK, 
or updating all SDK calls in your handler code to use SDKv3 (which is not a trivial update). Please account for this added complexity 
and update as soon as possible. 

[ack: aws-cdk-lib/aws-lambda-nodejs:runtimeUpdateSdkV2Breakage]

[Info at /RecipesBranchStackProd/originRequest] Removed AWS_NODEJS_CONNECTION_REUSE_ENABLED environment variable for Lambda@Edge compatibility

[Warning at /RecipesBranchStackProd/SiteDistribution/Origin1] Cannot update bucket policy of an imported bucket. You will need to update the policy manually instead.

See the "Setting up OAI with imported S3 buckets (legacy)" section of module's README for more info. 

[ack: @aws-cdk/aws-cloudfront-origins:updateImportedBucketPolicyOai]



npm i jest@29.7.0 -D && npm i jest-environment-jsdom@29.7.0 && npm i @types/jest@29.5.14 -D

npm i pkg@v --workspace=client && 


****
@typescript-eslint
****

WARNING: You are currently running a version of TypeScript which is not officially supported by @typescript-eslint/typescript-estree.

You may find that it works just fine, or you may not.

SUPPORTED TYPESCRIPT VERSIONS: >=3.3.1 <5.2.0

YOUR TYPESCRIPT VERSION: 5.9.2
